+++
title = "Генератор сайтов с блэкджеком и плагинами"
date = "2024-12-30"
draft = true

[taxonomies]
tags = [".NET", "Болтология"]

[extra]
comment = true
toc = true
og_image = true
+++

Доведя свой генератор Open Graph изображений до логичного финала я пришёл к выводу, что Rust - это не мой язык. Мне неприятно на нём писать и я больше времени трачу на то, чтобы победить злой компилятор, чем на привнесение нового функционала. Поэтому я стартую новый цикл статей о разработке своего генератора статических сайтов.

<!--more-->

Да, Zola (нынешний генератор, на котором крутится этот сайт) меня во многом устраивает. Он быстрый, хорошо выполняет свою задачу. Мне очень понравилась его идея "one binary to rule them all", благодаря чему мне не нужен целый Node.js проект с кучей зависимостей, чтобы поднять примитивный сайт, как было раньше (во времена Astro, например).

Но некоторого функционала в нём всё же не хватает. Взять ту же генерацию Open Graph изображений для публикации в соцсетях. Да, я написал свой генератор на абсолютно не знакомом мне языке с мыслью о том, чтобы потом встроить его в Zola.

Потратив на этот проект два месяца, я понял, что нервы мне дороже и погружаться ещё и в чужой код на Rust я не хочу, поэтому просто доделал базовый функционал, которого мне было достаточно и оставил его пылиться в бесконечно вечном.

В этом цикле я опишу свой путь по написанию генератора статических сайтов (далее SSG) с полного нуля до состояния, при котором мне самому будет будет удобно этим пользоваться, попутно переводя этот сайт на новый генератор.

# Название

Вдохновляться я буду Zola, поэтому и идею названия позаимствую оттуда. Эмиль Золя - это французский поэт и журналист 19 века. Я же возьму русского поэта. Так уж вышло, что русские фамилии паршиво выглядят на латинице, поэтому возьму что-то звучащее более интересно. Например, Иосифа Бродского. И стихи красивые, и имя латиницей выглядит хорошо. Живых проектов на гитхабе с таким названием нет - берём!

`Brodsky`, мне кажется, неплохо.

# Функционал

Что я хочу видеть в SSG?

- Формат распространения: Один бинарник
- Функционал:
  - Сборка Markdown документов в HTML-страницы по шаблону (ну это база)
  - Поддержка Sass (писать чистый CSS больно)
  - Централизованное управление шрифтами (кодогенерация стилей, например)
  - Минификация изображений
  - Поддержка тем
  - Поддержка плагинов (простое встраивание нового функционала в существующий код)
  - Дружелюбный CLI
  - Генерация Open Graph изображений

# Технология

Полагаясь на требования, выберу технологию, на которой я буду писать. У меня два варианта:

- Родной C#;
- F#, который я не знаю, но он всё ещё часть мира .NET, поэтому погружение не должно занять много времени


И хотя C# самый очевидный и простой вариант, потому что это моя основная специализация и я работаю на full-time работе с ним, я предпочту взять F#, потому что это дополнительная нагрузка на мозг на изучение новой парадигмы, но при этом позволяет не уходить слишком далеко (как было с Rust) и использовать привычные инструменты и экосистему.

# Инструментарий