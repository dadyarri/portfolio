+++
title = "Переезд блога на другой фреймворк (да, опять)"
date = "2025-02-22"
draft = true

[taxonomies]
tags = ["Болтология", "Devlog"]
cycle = ["ssg"]

[extra]
comment = true
toc = true
og_image = true
+++

Прошло два месяца, как я начал писать свой генератор статических сайтов. Я пришёл к выводу, что в одиночку я проект такого масштаба не потяну. Поэтому пришло время мигрировать на технологию, которой я изначально хотел избежать.

<!--more-->

В процессе построения архитектуры генератора статических сайтов я понял, что полноценного решения с плагинами на Go я не напишу. Слишком много ограничений, которые я (как разработчик-одиночка с фул-тайм работой) не смогу преодолеть. Например, плагины пришлось бы встраивать непосредственно в исходники (довольно неудобно и быстро засорит код), либо предоставлять способ запускать сторонние бинарники (потенциально небезопасно и потребовало бы собственного репозитория плагинов). В общем, эту реализацию я бросил и пришёл к тому, чего хотел всеми силами избежать. **JavaScript**. 

{{ resize_image(path="posts/yet-another-migration/you-should-fight.jpg", width=600, height=344, op="scale") }}

Вообще говоря, я изначально держал мысль писать проект на JavaScript как запасную, но откладывал её из-за того, что конечному пользователю вместо того, чтобы просто держать простую папку с его контентом, придётся создавать ещё и полноценный JavaScript-проект, который может разрастись до безумных размеров, не говоря уже про конфликты зависимостей и прочие радости жизни.

Но у такого подхода есть и свои плюсы. Как бы это ни было прискорбно, JavaScript всё ещё основная технология в современном вебе (как-нибудь потом расскажу, почему я считаю, что это плохо), поэтому здесь есть все необходимые мне инструменты, включая Sass и PostCSS. Имея все это напрямую без костылей, можно сделать подготовку ресурсов к публикации достаточно удобной, а прибитый гвоздями к языку NPM сильно упрощает работу с системой плагинов.

С другой стороны у этого проекта пропадает ценность, как у чего-то уникального. На Go есть Hugo – вполне состоявшийся генератор статических сайтов. Но вся расширяемость в нем заключается в написании кастомных макросов для шаблонизатора и скриптов. И это совсем не то, что мне нужно, то есть сложную логику на стороне сборщика к Hugo я добавить не могу. Поэтому на Go мой проект имел какой-то смысл и мог принести что-то своё.

В JavaScript мире есть Astro, который способен на всё то, что я хотел бы видеть в своем генераторе сайтов с блекджеком и плагинами. И писать свой такой же, кажется, смысла особого нет, ведь Astro уже проверенные временем и сообществом инструмент, а я, как одиночка, лишь впустую потрачу время, даже с учётом получения опыта в технологии, которая мне никогда особо не нравилась.

Так что думаю, мне стоит просто написать свои интеграции к Astro с необходимым мне функционалом и перетащить блог на него обратно.


