---
title: .NET Aspire
publishedAt: 2023-12-15
description: Обзор нового решения, встроенного в .NET для деплоя приложений с помощью кода
isPublish: false
tags:
  - .NET
---

## Обзор .NET Aspire

.NET Aspire — это фреймворк для сборки распределённых приложений с поддержкой сбора логов и метрик, готовых к запуску на облачных серверах в продакшн окружении. Он поставляется как набор Nuget-пакетов. Микросервисные приложения состоят из множества маленьких сервисов (в том числе базы данных, очереди сообщений и системы кеширования), которые взаимодействуют между собой.

.NET Aspire упрощает:

- Оркестрацию: Предоставляет функционал для запуска и соединения приложений, состоящих из нескольких проектов и их зависимостей
- Организацию компонентов: Предоставляет набор компонентов (NuGet-пакеты), которые обеспечивают универсальный интерфейс для подключение часто используемых зависимостей (например, Redis или Postgres)

Кроме того, в состав .NET Aspire входит тулинг для Visual Studio и dotnet CLI, который помогает создавать и управлять приложениями .NET Aspire

## Оркестрация

> Оркестрация — управление разными элементами облачных приложений.

.NET Aspire берёт эту задачу на себя, предоставляя удобные абстракции для управления поиском сервисов, переменными окружения и конфигурациями контейнеров, которые избавляют от необходимости самостоятельно заниматься низкоуровневой конфигурацией.

Оркестрация в .NET Aspire покрывает эти проблемы:

- **Композиция приложений:** Укажите .NET проекты, контейнеры, исполняемые файлы и облачные ресурсы, из которых состоит приложение
- **Поиск сервисов и управление строками подключения:** Хост управляет инъекциями правильных строк подключений для зависимых сервисов и поиском сервисов для упрощения опыта разработчика

Например, при использовании .NET Aspire добавление локального Redis-контейнер и инъекция строки подключения к нему в проект `"frontend"` займёт всего два вызова вспомогательных методов:

```csharp
// Создать сборщик распределённого приложения используя указанные аргументы командной строки
var builder = DistributedApplication.CreateBuilder(args);

// Добавить Redis-контейнер в приложение
var cache = builder.AddRedisContainer("cache");

// Добавить проект "frontend" в приложение и настроить ему использование Redis-контейнера
builder.AddProject<Projects.MyFrontend>("frontend")
       .WithReference(cache);
```

За более подробной информацией обратитесь к [.NET Aspire orchestration overview](https://learn.microsoft.com/en-us/dotnet/aspire/app-host-overview)


## Компоненты .NET Aspire

Компоненты — это NuGet пакеты, созданные для того, чтобы упростить подключение к популярным сервисам и платформам, таким как Redis или PostgreSQL. Компоненты .NET Aspire берут на себя многие вопросы облачного развёртывания, делая проще, например проверки состояния и телеметрию.

Каждый компонент предназначен для работы с оркестратором .NET Aspire 